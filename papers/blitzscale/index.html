
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="HarryZ">
      
      
        <link rel="canonical" href="https://note.uqbarz.com/papers/blitzscale/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../cacheblend/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching - HarryZ の Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/fonts.css">
    
      <link rel="stylesheet" href="../../stylesheets/theme.css">
    
      <link rel="stylesheet" href="../../stylesheets/counter.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="HarryZ の Notebook" class="md-header__button md-logo" aria-label="HarryZ の Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HarryZ の Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="indigo"  aria-label="切换至浅色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="day" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至深色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至深色模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="根据系统模式切换主题"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="根据系统模式切换主题" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hharryz/hharryz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hharryz.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  🏡主页

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../system/" class="md-tabs__link">
          
  
  
  计算机系统

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mlsys/" class="md-tabs__link">
          
  
  
  MLSys

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ai/" class="md-tabs__link">
          
  
  
  AI

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  论文阅读

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/" class="md-tabs__link">
          
  
  
  杂项

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HarryZ の Notebook" class="md-nav__button md-logo" aria-label="HarryZ の Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HarryZ の Notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hharryz/hharryz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hharryz.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    🏡主页
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            🏡主页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    计算机系统
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            计算机系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Systems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MLSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning Systems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Generative Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Diffusion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Diffusion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec1: Flow and Diffusion Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec2: Constructing a Training Target
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec3: Training Flow and Diffusion Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec4: Building an Image Generator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            RL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/rl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    论文阅读
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            论文阅读
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paper Reading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    MLSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            MLSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#背景介绍" class="md-nav__link">
    <span class="md-ellipsis">
      背景介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="背景介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maas" class="md-nav__link">
    <span class="md-ellipsis">
      MaaS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sota-系统-serverlessllm" class="md-nav__link">
    <span class="md-ellipsis">
      SOTA 系统: ServerlessLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#模型服务的特点" class="md-nav__link">
    <span class="md-ellipsis">
      模型服务的特点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#问题与挑战" class="md-nav__link">
    <span class="md-ellipsis">
      问题与挑战
    </span>
  </a>
  
    <nav class="md-nav" aria-label="问题与挑战">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#问题分析" class="md-nav__link">
    <span class="md-ellipsis">
      问题分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#问题-1" class="md-nav__link">
    <span class="md-ellipsis">
      问题 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#问题-2" class="md-nav__link">
    <span class="md-ellipsis">
      问题 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#系统设计" class="md-nav__link">
    <span class="md-ellipsis">
      系统设计
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#系统架构" class="md-nav__link">
    <span class="md-ellipsis">
      系统架构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网络拓扑" class="md-nav__link">
    <span class="md-ellipsis">
      网络拓扑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性转发链-serial-forwarding-chain" class="md-nav__link">
    <span class="md-ellipsis">
      线性转发链 Serial Forwarding Chain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#模型分片聚合-sharded-parameter-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      模型分片聚合 Sharded Parameter Transfer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zigzag-调度" class="md-nav__link">
    <span class="md-ellipsis">
      Zigzag 调度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#全局参数池和-scale-策略" class="md-nav__link">
    <span class="md-ellipsis">
      全局参数池和 scale 策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关于-llm" class="md-nav__link">
    <span class="md-ellipsis">
      关于 LLM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testbed" class="md-nav__link">
    <span class="md-ellipsis">
      TestBed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseline" class="md-nav__link">
    <span class="md-ellipsis">
      Baseline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttft-和-tbt" class="md-nav__link">
    <span class="md-ellipsis">
      TTFT 和 TBT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#性能与资源使用" class="md-nav__link">
    <span class="md-ellipsis">
      性能与资源使用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-work" class="md-nav__link">
    <span class="md-ellipsis">
      Related Work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cacheblend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mooncake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mooncake: Trading More Storage for Less Computation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    杂项
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            杂项
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#背景介绍" class="md-nav__link">
    <span class="md-ellipsis">
      背景介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="背景介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maas" class="md-nav__link">
    <span class="md-ellipsis">
      MaaS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sota-系统-serverlessllm" class="md-nav__link">
    <span class="md-ellipsis">
      SOTA 系统: ServerlessLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#模型服务的特点" class="md-nav__link">
    <span class="md-ellipsis">
      模型服务的特点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#问题与挑战" class="md-nav__link">
    <span class="md-ellipsis">
      问题与挑战
    </span>
  </a>
  
    <nav class="md-nav" aria-label="问题与挑战">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#问题分析" class="md-nav__link">
    <span class="md-ellipsis">
      问题分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#问题-1" class="md-nav__link">
    <span class="md-ellipsis">
      问题 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#问题-2" class="md-nav__link">
    <span class="md-ellipsis">
      问题 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#系统设计" class="md-nav__link">
    <span class="md-ellipsis">
      系统设计
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#系统架构" class="md-nav__link">
    <span class="md-ellipsis">
      系统架构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网络拓扑" class="md-nav__link">
    <span class="md-ellipsis">
      网络拓扑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性转发链-serial-forwarding-chain" class="md-nav__link">
    <span class="md-ellipsis">
      线性转发链 Serial Forwarding Chain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#模型分片聚合-sharded-parameter-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      模型分片聚合 Sharded Parameter Transfer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zigzag-调度" class="md-nav__link">
    <span class="md-ellipsis">
      Zigzag 调度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#全局参数池和-scale-策略" class="md-nav__link">
    <span class="md-ellipsis">
      全局参数池和 scale 策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关于-llm" class="md-nav__link">
    <span class="md-ellipsis">
      关于 LLM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testbed" class="md-nav__link">
    <span class="md-ellipsis">
      TestBed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseline" class="md-nav__link">
    <span class="md-ellipsis">
      Baseline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttft-和-tbt" class="md-nav__link">
    <span class="md-ellipsis">
      TTFT 和 TBT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#性能与资源使用" class="md-nav__link">
    <span class="md-ellipsis">
      性能与资源使用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-work" class="md-nav__link">
    <span class="md-ellipsis">
      Related Work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  
    
      
    
    <a href="https://github.com/hharryz/hharryz.github.io/raw/main/docs/papers/blitzscale.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching">BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching<a class="headerlink" href="#blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching" title="Permanent link">&para;</a></h1>
<blockquote>
<p><a href="https://www.usenix.org/conference/osdi25/presentation/zhang-dingyan">论文</a>
SJTU IPADS</p>
</blockquote>
<h2 id="背景介绍">背景介绍<a class="headerlink" href="#背景介绍" title="Permanent link">&para;</a></h2>
<details class="note" open="open">
<summary>关于云服务的一些指标</summary>
<ul>
<li><strong>Tail latency</strong>（尾部延迟）指系统在高并发场景下，<strong>最慢的极少数请求</strong>（如 P99/P999 分位）的延迟表现。它反映的是用户体验的下限，而非平均性能。</li>
<li><strong>Service Level Objective</strong>（SLO，服务级别目标）是<strong>服务可靠性工程</strong>中的一个核心概念，它指的是：对某项服务在一段时间内所应达到性能或可用性的明确目标值。</li>
<li><strong>P99</strong> 是 <strong>“第 99 百分位数”（99th percentile）</strong> 的简称。</li>
<li>MaaS 服务目标：最大化 goodput (符合 SLO 的请求数)；最小化预留的实例。</li>
</ul>
</details>
<h3 id="maas">MaaS<a class="headerlink" href="#maas" title="Permanent link">&para;</a></h3>
<p>模型即服务 (Model-as-a-Service, MaaS)，是 Serverless 的一种，用户不必考虑服务器硬件资源等部署细节，而是以按量计费 (pay-as-you-go) 的方式获取模型服务，降低用户的推理成本，提高云上的资源利用率。</p>
<p>MaaS 和其他 Serverless 场景一样，难以同时实现<strong>高服务性能和高效费比</strong>。自动缩扩容 (Autoscaling) 可以动态伸缩模型服务实例，解决 over-provision 和 under-provision 的问题。</p>
<p>自动扩容的时间是减少 SLO violation 的关键，即 cold-start latency 是我们的核心优化目标。如果服务拉起速度太慢，当请求激增时，由于系统的 throughput 并没有上升，而请求的 queue time 上升，排队的请求在实例扩容完成前都不能被推理，从而违反了 SLO.</p>
<p><strong>扩容步骤</strong>：创建 CUDA Context (control plane)；加载模型参数 (data plane)</p>
<p><a class="glightbox" href="../img/XG3pb8XVmozerGxdumbca6qmnXe.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/XG3pb8XVmozerGxdumbca6qmnXe.webp" style="display:block; margin:auto;" width="400" /></a></p>
<h3 id="sota-系统-serverlessllm">SOTA 系统: ServerlessLLM<a class="headerlink" href="#sota-系统-serverlessllm" title="Permanent link">&para;</a></h3>
<p>ServerlessLLM 将模型参数缓存在主机内存中，并优化<strong>模型缓存缺失时本地 SSD 加载参数的速度</strong>来提高模型的加载速度。</p>
<ul>
<li>由于多个模型在同一个集群中服务，为了尽可能地让每一个模型能 cache hit，就必须把每个模型缓存在每台 GPU 服务器上，带来资源浪费。</li>
<li>Cache miss 并不能因此避免，总有模型需要从 SSD 中进行加载。</li>
<li>使用本地的 SSD 加载模型不仅速度慢，而且与云上分离式存储架构（如 NVMeof）相违背。</li>
</ul>
<p>vLLM, DistServe 并不针对云上场景设计，没有 autoscale 的功能，只能通过 over-provision 的方式来满足 SLO. 这会带来 GPU Time 的浪费。</p>
<h3 id="模型服务的特点">模型服务的特点<a class="headerlink" href="#模型服务的特点" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/TNslb29BToLxZvxBqSwc53IqnOg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/TNslb29BToLxZvxBqSwc53IqnOg.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>需求未知，可能短时激增；内存使用也未知，可长可短。</p>
<p>Two-Phase，Prefill 阶段用 TTFT 衡量，Decode 阶段用 TBT 衡量。LLM Query 是 stateful 的，KVCache 在模型推理过程中会被存储在 GPU Memory 中。</p>
<p>KVCache 的大小很可能无法在一个 instance 内装下，需要解决可能带来的 OOM 问题。</p>
<h2 id="问题与挑战">问题与挑战<a class="headerlink" href="#问题与挑战" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Data Plane 的速度太慢</strong>: 把模型参数加载入 GPU 的速度太慢。MaaS 的特点即模型参数量大，生成一个 token 就需要模型拥有全量的参数。</p>
<blockquote>
<p>例如，如果使用 SSD 从硬盘进行加载，每块 GPU 可以获得 2-10Gbps 的带宽，加载 Llamma3-8B 需要 8s.</p>
</blockquote>
</li>
<li>
<p><strong>模型加载 stop-the-world</strong>: 在参数加载完成之前，新的实例始终无法提供服务。</p>
</li>
</ol>
<h3 id="问题分析">问题分析<a class="headerlink" href="#问题分析" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/BWQ2b3obEoWksLxdYroccBslnCh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/BWQ2b3obEoWksLxdYroccBslnCh.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>SLO 定义的是从用户发送请求到服务器返回推理响应的端到端延迟。可以看到，在 scale 过程中，后续请求的排队时间越来越长，导致 SLO 违例飙升。</p>
<p>Scale Time = SLO Time - TTFT Time, Bandwidth = Model Parameter Size / Scale Time</p>
<p>如果以 TP=4 传输一个 72B 的模型，根据 1250ms 的 SLO time 和 771ms 的 TTFT，要求网络带宽来到 576Gbps，SSD 显然做不到这一点。</p>
<p><a class="glightbox" href="../img/IT8sbr1U0opEX7xeSArcdz13nFf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/IT8sbr1U0opEX7xeSArcdz13nFf.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>即使使用了 host cache，host 也不可能装下所有模型，因此不能完全避免缓存未命中带来的延迟。当 cache miss 时，模型加载速度就非常糟糕。同时，一个有意思的观察是，在 scale 的同时，由于负载被调度到了不同的 host，有更高概率带来 cache miss，从而导致 miss rate 飙升.</p>
<p><a class="glightbox" href="../img/KYNIbJjZyoNrbBxTOnMcmTxzncg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KYNIbJjZyoNrbBxTOnMcmTxzncg.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>Under-utilized 网络和高速的网络带宽给模型的加载带来更多可能性。即使在峰值下，网络的占用率也只有 60% 左右。集群中的高性能网络为我们提供了机会，RDMA 能提供 200Gbps 的带宽，与 PCIe 带宽接近。</p>
<h3 id="问题-1">问题 1<a class="headerlink" href="#问题-1" title="Permanent link">&para;</a></h3>
<p>问题 1 要解决的是<strong>模型服务实例的拉起速度</strong>。</p>
<p>可能的解决方案：</p>
<ul>
<li>现代 GPU 集群中有 NVLink, RDMA 等高速网络，而且在推理过程中没有很高的利用率，因此可以利用网络的 Multicast 快速拉起多个模型实例，满足自动缩扩容的需要，同时不会造成 over-provision 和 cache-miss 的问题。</li>
<li>
<p>利用高速网络的多播机制实现<span class="arithmatex">\(O(1)\)</span>甚至<span class="arithmatex">\(O(0)\)</span>缓存下的数据面加速。所有机器的内存加起来足够部署所有模型，因此<span class="arithmatex">\(O(1)\)</span>的 cache 就能避免所有的 cache miss.</p>
<ul>
<li>但是 multicast plan 的生成并不简单，需要一个 planner 能够 online 地解决 NP-hard 问题并避免 scaling 和 serving 的实例之间的网络干扰。</li>
</ul>
</li>
<li>
<p>实现 online interference-free scale plan generation，基于网络在线生成快速扩容方案</p>
<ul>
<li>用 online 的时间解决 NP-hard 问题。</li>
<li>消除 loading 和 serving 的 workload 的网络干扰。</li>
</ul>
</li>
</ul>
<h3 id="问题-2">问题 2<a class="headerlink" href="#问题-2" title="Permanent link">&para;</a></h3>
<p>问题 2 要解决的是 scale 过程中 throughput 仍然无法增加的问题。</p>
<ul>
<li>
<p>通过细粒度的 scaling 抽象和合作执行，实现数据面的在线加载（layer-by-layer 的推理策略）。</p>
<blockquote>
<p>如果要加载 Qwen2.5-72B 并实现 500ms 的 stop time，则需要 576 Gbps 的带宽，目前的硬件无法实现。</p>
</blockquote>
</li>
<li>
<p>使用 best-effort 的 scaling 无法实现负载均衡，因此我们需要考虑 future incoming layers，实现 zig-zag 的流水线调度。</p>
</li>
</ul>
<p>可能的解决方案：用 zig-zag 的方法实现真正的 live autoscale，基于 zig-zag 调度实现高效快速扩容。从 throughput 的角度理解为什么这个方法有可能 work：假设一个 7-layer 模型，原来的 throughput 是 <span class="arithmatex">\(1/7\)</span>，在加载了一个 layer 之后，throughput 来到了 <span class="arithmatex">\(1/6\)</span>。</p>
<p><a class="glightbox" href="../img/KQfxbb7G0o1ZKQxu1DOc270Enab.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KQfxbb7G0o1ZKQxu1DOc270Enab.webp" style="display:block; margin:auto;" width="600" /></a></p>
<h2 id="系统设计">系统设计<a class="headerlink" href="#系统设计" title="Permanent link">&para;</a></h2>
<h3 id="系统架构">系统架构<a class="headerlink" href="#系统架构" title="Permanent link">&para;</a></h3>
<p>24k 行 Rust 和 C++ 代码，实现 PD 分离和 continuous batching 等技术。</p>
<p><a class="glightbox" href="../img/PdXqbcw67ork9gxjcDucCWGSndf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/PdXqbcw67ork9gxjcDucCWGSndf.webp" style="display:block; margin:auto;" width="400" /></a></p>
<ul>
<li>Global Parameter Manager 管理在 GPU 上部署的模型和在 CPU 上 cache 的模型，实现 model 和 source 的映射。</li>
<li>Load Monitor 负责监控负载。</li>
<li>Scale Planner 负责生成 online 的方案。</li>
<li>Execution Scheduler 负责请求调度和重定向。</li>
</ul>
<h3 id="网络拓扑">网络拓扑<a class="headerlink" href="#网络拓扑" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/NRMwb3RkDoPxGqx7ruyccTDOnPh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/NRMwb3RkDoPxGqx7ruyccTDOnPh.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>问题建模：</p>
<ul>
<li>NVLink 有 1600-3600Gbps 的带宽，因此用 NVLink 互联的组内的通信时间可以忽略。</li>
<li>忽略二级以上交换机，采用 leaf-spine 结构。每个 GPU 与一台叶子交换机相连，拥有 <span class="arithmatex">\(BW_i\)</span> 的带宽；叶子交换机内的通信是 full-mesh 的。</li>
<li>叶子交换机之间（即跨交换机）的通信小于等于交换机内部的，采用 VLT 等网络技术屏蔽更复杂的拓扑结构。</li>
</ul>
<h3 id="线性转发链-serial-forwarding-chain">线性转发链 Serial Forwarding Chain<a class="headerlink" href="#线性转发链-serial-forwarding-chain" title="Permanent link">&para;</a></h3>
<ul>
<li>Data Center 中存在 scale-up (如 NVLink) 和 scale-out (如 RDMA)，拓扑结构复杂，在异构网络中获取最优的多播 (multicast) 方案是一个 NP-hard 问题。在服务的过程中，用户的流量和 GPU 的分配也是动态变化的，因此需要生成在线扩容方案。</li>
</ul>
<blockquote>
<p>在 PD 分离的场景下，朴素的扩容方式会因流量竞争而产生网络干扰，而利用网络硬件双向的特性可以规避这个干扰。如果产生流量竞争，在实验上它会带来 1.5 倍的扩容时间和 50% 的 TBT Tail Latency.</p>
</blockquote>
<div align="center">
    <a class="glightbox" href="../img/XEFYbT0hsoF1XcxbGpOcKdgjn2d.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../img/XEFYbT0hsoF1XcxbGpOcKdgjn2d.webp" style="zoom:25%;" /></a>
    <a class="glightbox" href="../img/M8YMbA6t7oMC6axklrNcGSDXn3c.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../img/M8YMbA6t7oMC6axklrNcGSDXn3c.webp" style="zoom:35%;" /></a>
</div>

<details open="open">
<summary><strong>串行转发的多播机制</strong></summary>
<p><strong>串行转发的多播机制</strong>（serial forwarding multicast）能加载大量数据（如模型参数），而且无论接收者数量是多少，效率几乎不变。数据从源节点出发，一跳跳往下传播（像链条），或利用树状结构传播，形成类似“级联转发”。</p>
<p>多播是一种网络传输方式，介于广播（broadcast）和单播（unicast）之间：</p>
<ul>
<li><strong>单播</strong>：一个源发送一份数据给一个接收者（N 个接收者要发 N 次）</li>
<li><strong>广播</strong>：一个源发数据给网络中<strong>所有节点</strong>（不管你要不要）</li>
<li><strong>多播</strong>：一个源发数据给<strong>特定一组接收者</strong>
  多播通过 <strong>组播地址（multicast address）</strong> 和 <strong>组播组（multicast group）</strong> 来实现有选择性的广播。</li>
<li>串行的广播链路 <span class="arithmatex">\(S\rightarrow T_1\rightarrow T_2 \rightarrow ... \rightarrow T_n\)</span> 有很好的性质，在 bandwidth-intensive 的场景下，整体的传输时间和 scale 的模型个数无关。</li>
<li>serial-chain 是必要的，但是 multi-chain 更好（因为 inter-leaf 的通信可能差异很大），它有一定可能<strong>避免 inter-leaf 的通信</strong>，同时让<strong> PD 分离场景下的干扰更少</strong>。</li>
</ul>
<p><a class="glightbox" href="../img/A0cEb9B4oohlDixXi12caiFwnuq.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/A0cEb9B4oohlDixXi12caiFwnuq.webp" style="display:block; margin:auto;" width="400" /></a></p>
</details>
<p><strong>算法设计的 insights：</strong></p>
<ol>
<li>prune 掉 serving 的实例，减少干扰（load 可以来自 host memory 和 GPU instances）；</li>
<li>把 NVLink 互联的卡作为一个逻辑组，从方案中省略 NVLink，从而降低了复杂度；</li>
<li>尽量选择同一个 leaf 交换机下的节点进行传输，可以更大程度地保障带宽；</li>
<li>链中的节点顺序非常重要（从网络中加载模型参数是 band-intensive 的）。用贪心的方式从高带宽到低带宽，算法按照节点间链路速度的降序进行排序，向具有更高带宽的节点发送数据可以更快地提升（系统的）服务吞吐量；
   <a class="glightbox" href="../img/EsiybCkV7oeJDdx0U6Icb3P3nqh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/EsiybCkV7oeJDdx0U6Icb3P3nqh.webp" style="display:block; margin:auto;" width="400" /></a></li>
<li>双向的 RDMA 下，incast 和 outcast 流量互不干扰，在同一条链路上避免同向的数据流动。（例如从 decode instance 传送参数到 prefill instance）</li>
</ol>
<p><a class="glightbox" href="../img/QejTbKc8Ao9bV0xwVZhcsNunn7g.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/QejTbKc8Ao9bV0xwVZhcsNunn7g.webp" style="display:block; margin:auto;" width="300" /></a></p>
<h3 id="模型分片聚合-sharded-parameter-transfer">模型分片聚合 Sharded Parameter Transfer<a class="headerlink" href="#模型分片聚合-sharded-parameter-transfer" title="Permanent link">&para;</a></h3>
<ul>
<li>利用 scale-up 网络和 scale-out 网络的带宽差异，在分发参数的过程中，可以采用分片分发的方式，即从不同的 src 节点分别分发模型的一部分，聚合网络带宽；再利用卡间 scale-up 网络的 NVLink 带宽完成 All-gather 操作，从而加快模型参数传递速度。</li>
</ul>
<p><a class="glightbox" href="../img/Us0hbJMteoFUtVxrs3Wcd9Jdnxf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/Us0hbJMteoFUtVxrs3Wcd9Jdnxf.webp" style="display:block; margin:auto;" width="300" /></a></p>
<h3 id="zigzag-调度">Zigzag 调度<a class="headerlink" href="#zigzag-调度" title="Permanent link">&para;</a></h3>
<ul>
<li>在扩容过程中，<strong>新分配的 GPU 可以为系统提供算力</strong>，从而解决新分配的 GPU 在模型参数尚未加载完成的时候无法生成 token 的问题。</li>
<li>已经加载到服务器上的模型拥有全量参数，可以在请求激增的时候将新的请求路由到新分配的 GPU 上推理若干层，再路由回老的 GPU 上推理剩余层。</li>
</ul>
<p>调度的时机：</p>
<ul>
<li>当 scale 会破坏 SLO：profile 加载速度和 SLO 之间的关系</li>
<li>找到一个 overloaded instance，通常和第一条呼应，这个时候我们通常挑选在广播链 tail 位置的 instance，因为它的带宽最低.</li>
</ul>
<p><strong>方案 1</strong>:</p>
<div class="arithmatex">\[\text{Latency}_\text{avg} = \left( \sum_{req=1}^{N} \sum_{i=1}^{req} S_{i} \right) / N\]</div>
<div class="arithmatex">\[
\begin{aligned}
\min \quad &amp; \text{Latency}_{\text{avg}} \\
\text{s.t.} \quad &amp; S_i + T_i = L, \quad \forall i \quad \text{Pipeline limit (C1)}, \\
&amp; \sum_{j=1}^{i} T_j \le \sum_{j=1}^{i-1} S_j, \quad \forall i &gt; 1 \quad \text{Pipeline dependency (C2)}, \\
&amp; \text{Time}_i * T_i \le \sum_{j=1}^{i-1} T_j + (N - i + 1) \times (T_i - 1), \\
&amp; \forall i &gt; 1 \quad \text{Load limit (C3)}
\end{aligned}
\]</div>
<p>求解一个 ILP 线性约束。</p>
<p><strong>方案 2</strong>:</p>
<p><a class="glightbox" href="../img/CjyZbFxZtoaXHSxSivHcRc0Ln1g.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/CjyZbFxZtoaXHSxSivHcRc0Ln1g.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>尽可能地让新的 request 在新的 instance 上运行更多的时间。</p>
<p>优先级如何定义？遵循 FCFS 的原则；同时有加载的 layer 还没有被执行。</p>
<h3 id="全局参数池和-scale-策略">全局参数池和 scale 策略<a class="headerlink" href="#全局参数池和-scale-策略" title="Permanent link">&para;</a></h3>
<p>初始化时完成对模型参数的均匀 1 拷贝。</p>
<p>通过 tokens per second 和 KVCache 使用率来观测集群负载。</p>
<h3 id="关于-llm">关于 LLM<a class="headerlink" href="#关于-llm" title="Permanent link">&para;</a></h3>
<p>在 PD 分离的场景下，一个 layer 的 prefill 和 decode 时间基本和 batched token size 成正比，因此在计算 ILP 的时候需要为每个 batch 加一个正则化参数。而在 decoding 阶段，AR 下无法预测 token size 大小，因此只能使用 ILP-free scheduling。（这里，在 decoding 阶段 scaling 的同时也需要考虑 KVCache 的问题）</p>
<p>在 scale decode 实例的时候，由于 KVCache Transfer 和 parameter loading 都来自 incast 带宽，不可避免带来干扰。因此目前的策略是先把一部分 prefill 实例转换为 decode 实例，再 scale prefill 实例。</p>
<p>当我们发现 scale prefill 实例是必要的时候，可以同步 scale decode 实例，这样就可以 overlap 掉这一部分开销。（分析 prefill 和 decode 进行 scale 的时间差）</p>
<h2 id="evaluation">Evaluation<a class="headerlink" href="#evaluation" title="Permanent link">&para;</a></h2>
<h3 id="testbed">TestBed<a class="headerlink" href="#testbed" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/Lhclb7gx7oqRxHxVd8bc5aQvnef.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/Lhclb7gx7oqRxHxVd8bc5aQvnef.webp" style="display:block; margin:auto;" width="400" /></a></p>
<h3 id="baseline">Baseline<a class="headerlink" href="#baseline" title="Permanent link">&para;</a></h3>
<ul>
<li>ServerlessLLM (S-LLM and Optimal AllCache)</li>
<li>Distserve</li>
<li>vLLM</li>
</ul>
<p><a class="glightbox" href="../img/KzB0bhLQpoS43Px8f2Gcc8Jon0f.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KzB0bhLQpoS43Px8f2Gcc8Jon0f.webp" /></a></p>
<h3 id="ttft-和-tbt">TTFT 和 TBT<a class="headerlink" href="#ttft-和-tbt" title="Permanent link">&para;</a></h3>
<p>BlitzScale 在 TTFT 上的优化显著优于 TBT。</p>
<ol>
<li>Decoding 可以被 pre-scaled，即当 prefill 的 throughput 增加，decode instance 就会直接 auto-scale，这部分时间和 prefill 时间重叠。</li>
<li>Decode 可以被 scale 的更少，因为这个阶段是 memory-bound 的，在目前的优化下可以实现 no queueing time, slightly increased TBT.</li>
<li>在不同的工作负载下，对于 S-LLM，第一次 burst 时会带来大量 cache miss，但是后续的 burst 就可以实现 cache hit（corner case 需要考虑两次 burst 的间隔大于 eviction time）</li>
</ol>
<h3 id="性能与资源使用">性能与资源使用<a class="headerlink" href="#性能与资源使用" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/YPzhbiDUfo7HVCxA3cEcl5SenOv.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/YPzhbiDUfo7HVCxA3cEcl5SenOv.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>在相同的 GPU Time 下获得更好的性能。Over-provision 能带来最好的表现但是会浪费 GPU 时间。</p>
<p><a class="glightbox" href="../img/GoB3bUWQWoRRA3xHuZZc9QpwnDh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/GoB3bUWQWoRRA3xHuZZc9QpwnDh.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>ServerlessLLM 的 memory 占用和 host 数成正比，因此一个模型会迅速地污染服务器的 memory.</p>
<p><a class="glightbox" href="../img/R1ulblJ7roXfNRxHOdyc6HoMnLb.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/R1ulblJ7roXfNRxHOdyc6HoMnLb.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>这一段话很好地解释了 scale 的常用配置。</p>
<blockquote>
<p>BLITZSCALE utilizes two broadcast chains (each involving 3 instances), while the end instances involve a live autoscale. The start instances are the decode instances. For AllCache, it directly loads the parameters from the host memory of the scaled instances.
Second, BLITZSCALE can scale faster even compared with AllCache, thanks to our NVLink-based fused link transmission protocol: it can finish scaling in 1,200 ms while AllCache takes about 2,000 ms.</p>
</blockquote>
<p><a class="glightbox" href="../img/GRy5bCgCJodpJexKY6VchVQpnUr.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/GRy5bCgCJodpJexKY6VchVQpnUr.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>消融实验：网络越差，live scale 的效果越好。decode 通常不需要 scale.</p>
<p><a class="glightbox" href="../img/NHyJbBvX5oTFVwxTa4tcuqVtnuh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/NHyJbBvX5oTFVwxTa4tcuqVtnuh.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>网络带宽的 overhead 几乎可以忽略。</p>
<p><a class="glightbox" href="../img/EdUUb4UCvogzdYxHleycVkcJnOg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/EdUUb4UCvogzdYxHleycVkcJnOg.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>在足够的优化下，control plane 的 overhead 可以极大地降低。</p>
<h2 id="related-work">Related Work<a class="headerlink" href="#related-work" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Orca: continuous batching</p>
<ul>
<li>Iterative-level scheduling: 不同于以前以 batch 作为完整单位进行推理，当 batch 内有一个 request 已经完成推理，它必须通过 zero-padding 的方式等待其他所有请求完成；现在在一次迭代中调度一次，解决了这个问题。</li>
<li>Selective batching: 针对 Attention 等无法 batch 的操作，我们以 request 为单位进行处理；但对其他位置无关的操作，我们可以用 flatten 和 reshape 操作实现 batchify.</li>
</ul>
</li>
<li>
<p>DistServe</p>
<ul>
<li>将 prefill 和 decode 解耦，将相同 layer 所属的 GPU 放在同一台机器内，减少 KVCache 迁移的 overhead</li>
</ul>
</li>
<li>
<p>LoongServe</p>
<ul>
<li>面对 long context 的场景，单张 GPU 无法存下 KVCache，SP 成为必要的分布式手段。同时，不同 request 和不同 phase 之间的差距可能会很大，例如不同的上下文导致 prefill 阶段的负载波动很大。因此，实现 elastic 的并行也是十分重要的。</li>
<li>提出 ESP 方法，把 SP 扩展到推理阶段。使用 proactive migration 降低了从 prefill 到 decode 阶段 KVCache 迁移的开销。使用 multiple master instance 的方法实现 decode 阶段的负载均衡。设计了 online 的缩扩容算法。</li>
</ul>
</li>
<li>
<p>ServerlessLLM</p>
<ul>
<li>设计了 multi-tier caching system，把模型参数加载到 CPU DRAM 中进行数据面加速。如果 cache hit，可以利用 CPU-GPU PCIe 带宽加载模型。</li>
<li>但不总是能直接加载。如果 cache-hit 但是 GPU 已经被占用，则需要把现有负载迁移到其他机器上；如果 cache miss 了，则需要从 SSD 当中加载模型。</li>
</ul>
</li>
<li>
<p>DeepServe</p>
<ul>
<li>微服务架构（还可以拉上 mooncake 谈一谈）</li>
</ul>
</li>
<li>
<p>并行策略</p>
<ul>
<li>DeepSeek 实现 DP + EP 的并行策略。（All2All 让进出通信量保持不变）但是这也对 reliability 的要求非常高。另外实例内的 scale（和这篇文章 concern 的问题也非常相关）也非常的难，对于一个同步通信，卡数越多就会带来通信效率和稳定性的挑战。波动流量下的负载均衡带来更大的挑战。</li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年8月21日 13:59:20 UTC">2025年8月21日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年8月21日 13:59:20 UTC">2025年8月21日</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="上一页: Paper Reading">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Paper Reading
              </div>
            </div>
          </a>
        
        
          
          <a href="../cacheblend/" class="md-footer__link md-footer__link--next" aria-label="下一页: CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © HarryZ
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.tracking", "navigation.path", "navigation.top", "toc.follow", "content.action.view", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/polyfill/index.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.js"></script>
      
        <script src="../../javascripts/tablesort.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/tablesort/dist/tablesort.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>