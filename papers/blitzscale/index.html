
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="HarryZ">
      
      
        <link rel="canonical" href="https://note.uqbarz.com/papers/blitzscale/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../cacheblend/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching - HarryZ ã® Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/fonts.css">
    
      <link rel="stylesheet" href="../../stylesheets/theme.css">
    
      <link rel="stylesheet" href="../../stylesheets/counter.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href="../.." title="HarryZ ã® Notebook" class="md-header__button md-logo" aria-label="HarryZ ã® Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HarryZ ã® Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="indigo"  aria-label="åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="day" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="æ ¹æ®ç³»ç»Ÿæ¨¡å¼åˆ‡æ¢ä¸»é¢˜"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="æ ¹æ®ç³»ç»Ÿæ¨¡å¼åˆ‡æ¢ä¸»é¢˜" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="åˆ†äº«" aria-label="åˆ†äº«" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hharryz/hharryz.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hharryz.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="æ ‡ç­¾" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  ğŸ¡ä¸»é¡µ

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../system/" class="md-tabs__link">
          
  
  
  è®¡ç®—æœºç³»ç»Ÿ

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mlsys/" class="md-tabs__link">
          
  
  
  MLSys

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ai/" class="md-tabs__link">
          
  
  
  AI

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  è®ºæ–‡é˜…è¯»

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/" class="md-tabs__link">
          
  
  
  æ‚é¡¹

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HarryZ ã® Notebook" class="md-nav__button md-logo" aria-label="HarryZ ã® Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HarryZ ã® Notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hharryz/hharryz.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hharryz.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ğŸ¡ä¸»é¡µ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            ğŸ¡ä¸»é¡µ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    é¦–é¡µ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    è®¡ç®—æœºç³»ç»Ÿ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            è®¡ç®—æœºç³»ç»Ÿ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Systems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MLSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning Systems
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Generative Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Diffusion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Diffusion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec1: Flow and Diffusion Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec2: Constructing a Training Target
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec3: Training Flow and Diffusion Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/diffusion/lec4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec4: Building an Image Generator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            RL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/rl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    è®ºæ–‡é˜…è¯»
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            è®ºæ–‡é˜…è¯»
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paper Reading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    MLSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            MLSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#èƒŒæ™¯ä»‹ç»" class="md-nav__link">
    <span class="md-ellipsis">
      èƒŒæ™¯ä»‹ç»
    </span>
  </a>
  
    <nav class="md-nav" aria-label="èƒŒæ™¯ä»‹ç»">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maas" class="md-nav__link">
    <span class="md-ellipsis">
      MaaS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sota-ç³»ç»Ÿ-serverlessllm" class="md-nav__link">
    <span class="md-ellipsis">
      SOTA ç³»ç»Ÿ: ServerlessLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#é—®é¢˜ä¸æŒ‘æˆ˜" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ä¸æŒ‘æˆ˜
    </span>
  </a>
  
    <nav class="md-nav" aria-label="é—®é¢˜ä¸æŒ‘æˆ˜">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜åˆ†æ" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜åˆ†æ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜-1" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜-2" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ç³»ç»Ÿè®¾è®¡" class="md-nav__link">
    <span class="md-ellipsis">
      ç³»ç»Ÿè®¾è®¡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ç³»ç»Ÿè®¾è®¡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ç³»ç»Ÿæ¶æ„" class="md-nav__link">
    <span class="md-ellipsis">
      ç³»ç»Ÿæ¶æ„
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ç½‘ç»œæ‹“æ‰‘" class="md-nav__link">
    <span class="md-ellipsis">
      ç½‘ç»œæ‹“æ‰‘
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#çº¿æ€§è½¬å‘é“¾-serial-forwarding-chain" class="md-nav__link">
    <span class="md-ellipsis">
      çº¿æ€§è½¬å‘é“¾ Serial Forwarding Chain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ¨¡å‹åˆ†ç‰‡èšåˆ-sharded-parameter-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å‹åˆ†ç‰‡èšåˆ Sharded Parameter Transfer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zigzag-è°ƒåº¦" class="md-nav__link">
    <span class="md-ellipsis">
      Zigzag è°ƒåº¦
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#å…¨å±€å‚æ•°æ± å’Œ-scale-ç­–ç•¥" class="md-nav__link">
    <span class="md-ellipsis">
      å…¨å±€å‚æ•°æ± å’Œ scale ç­–ç•¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#å…³äº-llm" class="md-nav__link">
    <span class="md-ellipsis">
      å…³äº LLM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testbed" class="md-nav__link">
    <span class="md-ellipsis">
      TestBed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseline" class="md-nav__link">
    <span class="md-ellipsis">
      Baseline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttft-å’Œ-tbt" class="md-nav__link">
    <span class="md-ellipsis">
      TTFT å’Œ TBT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ€§èƒ½ä¸èµ„æºä½¿ç”¨" class="md-nav__link">
    <span class="md-ellipsis">
      æ€§èƒ½ä¸èµ„æºä½¿ç”¨
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-work" class="md-nav__link">
    <span class="md-ellipsis">
      Related Work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cacheblend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mooncake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mooncake: Trading More Storage for Less Computation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    æ‚é¡¹
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            æ‚é¡¹
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#èƒŒæ™¯ä»‹ç»" class="md-nav__link">
    <span class="md-ellipsis">
      èƒŒæ™¯ä»‹ç»
    </span>
  </a>
  
    <nav class="md-nav" aria-label="èƒŒæ™¯ä»‹ç»">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maas" class="md-nav__link">
    <span class="md-ellipsis">
      MaaS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sota-ç³»ç»Ÿ-serverlessllm" class="md-nav__link">
    <span class="md-ellipsis">
      SOTA ç³»ç»Ÿ: ServerlessLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#é—®é¢˜ä¸æŒ‘æˆ˜" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ä¸æŒ‘æˆ˜
    </span>
  </a>
  
    <nav class="md-nav" aria-label="é—®é¢˜ä¸æŒ‘æˆ˜">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜åˆ†æ" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜åˆ†æ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜-1" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#é—®é¢˜-2" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜ 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ç³»ç»Ÿè®¾è®¡" class="md-nav__link">
    <span class="md-ellipsis">
      ç³»ç»Ÿè®¾è®¡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ç³»ç»Ÿè®¾è®¡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ç³»ç»Ÿæ¶æ„" class="md-nav__link">
    <span class="md-ellipsis">
      ç³»ç»Ÿæ¶æ„
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ç½‘ç»œæ‹“æ‰‘" class="md-nav__link">
    <span class="md-ellipsis">
      ç½‘ç»œæ‹“æ‰‘
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#çº¿æ€§è½¬å‘é“¾-serial-forwarding-chain" class="md-nav__link">
    <span class="md-ellipsis">
      çº¿æ€§è½¬å‘é“¾ Serial Forwarding Chain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ¨¡å‹åˆ†ç‰‡èšåˆ-sharded-parameter-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å‹åˆ†ç‰‡èšåˆ Sharded Parameter Transfer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zigzag-è°ƒåº¦" class="md-nav__link">
    <span class="md-ellipsis">
      Zigzag è°ƒåº¦
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#å…¨å±€å‚æ•°æ± å’Œ-scale-ç­–ç•¥" class="md-nav__link">
    <span class="md-ellipsis">
      å…¨å±€å‚æ•°æ± å’Œ scale ç­–ç•¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#å…³äº-llm" class="md-nav__link">
    <span class="md-ellipsis">
      å…³äº LLM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testbed" class="md-nav__link">
    <span class="md-ellipsis">
      TestBed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseline" class="md-nav__link">
    <span class="md-ellipsis">
      Baseline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttft-å’Œ-tbt" class="md-nav__link">
    <span class="md-ellipsis">
      TTFT å’Œ TBT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#æ€§èƒ½ä¸èµ„æºä½¿ç”¨" class="md-nav__link">
    <span class="md-ellipsis">
      æ€§èƒ½ä¸èµ„æºä½¿ç”¨
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-work" class="md-nav__link">
    <span class="md-ellipsis">
      Related Work
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  
    
      
    
    <a href="https://github.com/hharryz/hharryz.github.io/raw/main/docs/papers/blitzscale.md" title="æŸ¥çœ‹æœ¬é¡µçš„æºä»£ç " class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching">BlitzScale: Fast and Live Large Model Autoscaling with O(1) Host Caching<a class="headerlink" href="#blitzscale-fast-and-live-large-model-autoscaling-with-o1-host-caching" title="Permanent link">&para;</a></h1>
<blockquote>
<p><a href="https://www.usenix.org/conference/osdi25/presentation/zhang-dingyan">è®ºæ–‡</a>
SJTU IPADS</p>
</blockquote>
<h2 id="èƒŒæ™¯ä»‹ç»">èƒŒæ™¯ä»‹ç»<a class="headerlink" href="#èƒŒæ™¯ä»‹ç»" title="Permanent link">&para;</a></h2>
<details class="note" open="open">
<summary>å…³äºäº‘æœåŠ¡çš„ä¸€äº›æŒ‡æ ‡</summary>
<ul>
<li><strong>Tail latency</strong>ï¼ˆå°¾éƒ¨å»¶è¿Ÿï¼‰æŒ‡ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œ<strong>æœ€æ…¢çš„æå°‘æ•°è¯·æ±‚</strong>ï¼ˆå¦‚ P99/P999 åˆ†ä½ï¼‰çš„å»¶è¿Ÿè¡¨ç°ã€‚å®ƒåæ˜ çš„æ˜¯ç”¨æˆ·ä½“éªŒçš„ä¸‹é™ï¼Œè€Œéå¹³å‡æ€§èƒ½ã€‚</li>
<li><strong>Service Level Objective</strong>ï¼ˆSLOï¼ŒæœåŠ¡çº§åˆ«ç›®æ ‡ï¼‰æ˜¯<strong>æœåŠ¡å¯é æ€§å·¥ç¨‹</strong>ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæŒ‡çš„æ˜¯ï¼šå¯¹æŸé¡¹æœåŠ¡åœ¨ä¸€æ®µæ—¶é—´å†…æ‰€åº”è¾¾åˆ°æ€§èƒ½æˆ–å¯ç”¨æ€§çš„æ˜ç¡®ç›®æ ‡å€¼ã€‚</li>
<li><strong>P99</strong> æ˜¯ <strong>â€œç¬¬ 99 ç™¾åˆ†ä½æ•°â€ï¼ˆ99th percentileï¼‰</strong> çš„ç®€ç§°ã€‚</li>
<li>MaaS æœåŠ¡ç›®æ ‡ï¼šæœ€å¤§åŒ– goodput (ç¬¦åˆ SLO çš„è¯·æ±‚æ•°)ï¼›æœ€å°åŒ–é¢„ç•™çš„å®ä¾‹ã€‚</li>
</ul>
</details>
<h3 id="maas">MaaS<a class="headerlink" href="#maas" title="Permanent link">&para;</a></h3>
<p>æ¨¡å‹å³æœåŠ¡ (Model-as-a-Service, MaaS)ï¼Œæ˜¯ Serverless çš„ä¸€ç§ï¼Œç”¨æˆ·ä¸å¿…è€ƒè™‘æœåŠ¡å™¨ç¡¬ä»¶èµ„æºç­‰éƒ¨ç½²ç»†èŠ‚ï¼Œè€Œæ˜¯ä»¥æŒ‰é‡è®¡è´¹ (pay-as-you-go) çš„æ–¹å¼è·å–æ¨¡å‹æœåŠ¡ï¼Œé™ä½ç”¨æˆ·çš„æ¨ç†æˆæœ¬ï¼Œæé«˜äº‘ä¸Šçš„èµ„æºåˆ©ç”¨ç‡ã€‚</p>
<p>MaaS å’Œå…¶ä»– Serverless åœºæ™¯ä¸€æ ·ï¼Œéš¾ä»¥åŒæ—¶å®ç°<strong>é«˜æœåŠ¡æ€§èƒ½å’Œé«˜æ•ˆè´¹æ¯”</strong>ã€‚è‡ªåŠ¨ç¼©æ‰©å®¹ (Autoscaling) å¯ä»¥åŠ¨æ€ä¼¸ç¼©æ¨¡å‹æœåŠ¡å®ä¾‹ï¼Œè§£å†³ over-provision å’Œ under-provision çš„é—®é¢˜ã€‚</p>
<p>è‡ªåŠ¨æ‰©å®¹çš„æ—¶é—´æ˜¯å‡å°‘ SLO violation çš„å…³é”®ï¼Œå³ cold-start latency æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒä¼˜åŒ–ç›®æ ‡ã€‚å¦‚æœæœåŠ¡æ‹‰èµ·é€Ÿåº¦å¤ªæ…¢ï¼Œå½“è¯·æ±‚æ¿€å¢æ—¶ï¼Œç”±äºç³»ç»Ÿçš„ throughput å¹¶æ²¡æœ‰ä¸Šå‡ï¼Œè€Œè¯·æ±‚çš„ queue time ä¸Šå‡ï¼Œæ’é˜Ÿçš„è¯·æ±‚åœ¨å®ä¾‹æ‰©å®¹å®Œæˆå‰éƒ½ä¸èƒ½è¢«æ¨ç†ï¼Œä»è€Œè¿åäº† SLO.</p>
<p><strong>æ‰©å®¹æ­¥éª¤</strong>ï¼šåˆ›å»º CUDA Context (control plane)ï¼›åŠ è½½æ¨¡å‹å‚æ•° (data plane)</p>
<p><a class="glightbox" href="../img/XG3pb8XVmozerGxdumbca6qmnXe.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/XG3pb8XVmozerGxdumbca6qmnXe.webp" style="display:block; margin:auto;" width="400" /></a></p>
<h3 id="sota-ç³»ç»Ÿ-serverlessllm">SOTA ç³»ç»Ÿ: ServerlessLLM<a class="headerlink" href="#sota-ç³»ç»Ÿ-serverlessllm" title="Permanent link">&para;</a></h3>
<p>ServerlessLLM å°†æ¨¡å‹å‚æ•°ç¼“å­˜åœ¨ä¸»æœºå†…å­˜ä¸­ï¼Œå¹¶ä¼˜åŒ–<strong>æ¨¡å‹ç¼“å­˜ç¼ºå¤±æ—¶æœ¬åœ° SSD åŠ è½½å‚æ•°çš„é€Ÿåº¦</strong>æ¥æé«˜æ¨¡å‹çš„åŠ è½½é€Ÿåº¦ã€‚</p>
<ul>
<li>ç”±äºå¤šä¸ªæ¨¡å‹åœ¨åŒä¸€ä¸ªé›†ç¾¤ä¸­æœåŠ¡ï¼Œä¸ºäº†å°½å¯èƒ½åœ°è®©æ¯ä¸€ä¸ªæ¨¡å‹èƒ½ cache hitï¼Œå°±å¿…é¡»æŠŠæ¯ä¸ªæ¨¡å‹ç¼“å­˜åœ¨æ¯å° GPU æœåŠ¡å™¨ä¸Šï¼Œå¸¦æ¥èµ„æºæµªè´¹ã€‚</li>
<li>Cache miss å¹¶ä¸èƒ½å› æ­¤é¿å…ï¼Œæ€»æœ‰æ¨¡å‹éœ€è¦ä» SSD ä¸­è¿›è¡ŒåŠ è½½ã€‚</li>
<li>ä½¿ç”¨æœ¬åœ°çš„ SSD åŠ è½½æ¨¡å‹ä¸ä»…é€Ÿåº¦æ…¢ï¼Œè€Œä¸”ä¸äº‘ä¸Šåˆ†ç¦»å¼å­˜å‚¨æ¶æ„ï¼ˆå¦‚ NVMeofï¼‰ç›¸è¿èƒŒã€‚</li>
</ul>
<p>vLLM, DistServe å¹¶ä¸é’ˆå¯¹äº‘ä¸Šåœºæ™¯è®¾è®¡ï¼Œæ²¡æœ‰ autoscale çš„åŠŸèƒ½ï¼Œåªèƒ½é€šè¿‡ over-provision çš„æ–¹å¼æ¥æ»¡è¶³ SLO. è¿™ä¼šå¸¦æ¥ GPU Time çš„æµªè´¹ã€‚</p>
<h3 id="æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹">æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹<a class="headerlink" href="#æ¨¡å‹æœåŠ¡çš„ç‰¹ç‚¹" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/TNslb29BToLxZvxBqSwc53IqnOg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/TNslb29BToLxZvxBqSwc53IqnOg.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>éœ€æ±‚æœªçŸ¥ï¼Œå¯èƒ½çŸ­æ—¶æ¿€å¢ï¼›å†…å­˜ä½¿ç”¨ä¹ŸæœªçŸ¥ï¼Œå¯é•¿å¯çŸ­ã€‚</p>
<p>Two-Phaseï¼ŒPrefill é˜¶æ®µç”¨ TTFT è¡¡é‡ï¼ŒDecode é˜¶æ®µç”¨ TBT è¡¡é‡ã€‚LLM Query æ˜¯ stateful çš„ï¼ŒKVCache åœ¨æ¨¡å‹æ¨ç†è¿‡ç¨‹ä¸­ä¼šè¢«å­˜å‚¨åœ¨ GPU Memory ä¸­ã€‚</p>
<p>KVCache çš„å¤§å°å¾ˆå¯èƒ½æ— æ³•åœ¨ä¸€ä¸ª instance å†…è£…ä¸‹ï¼Œéœ€è¦è§£å†³å¯èƒ½å¸¦æ¥çš„ OOM é—®é¢˜ã€‚</p>
<h2 id="é—®é¢˜ä¸æŒ‘æˆ˜">é—®é¢˜ä¸æŒ‘æˆ˜<a class="headerlink" href="#é—®é¢˜ä¸æŒ‘æˆ˜" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Data Plane çš„é€Ÿåº¦å¤ªæ…¢</strong>: æŠŠæ¨¡å‹å‚æ•°åŠ è½½å…¥ GPU çš„é€Ÿåº¦å¤ªæ…¢ã€‚MaaS çš„ç‰¹ç‚¹å³æ¨¡å‹å‚æ•°é‡å¤§ï¼Œç”Ÿæˆä¸€ä¸ª token å°±éœ€è¦æ¨¡å‹æ‹¥æœ‰å…¨é‡çš„å‚æ•°ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ SSD ä»ç¡¬ç›˜è¿›è¡ŒåŠ è½½ï¼Œæ¯å— GPU å¯ä»¥è·å¾— 2-10Gbps çš„å¸¦å®½ï¼ŒåŠ è½½ Llamma3-8B éœ€è¦ 8s.</p>
</blockquote>
</li>
<li>
<p><strong>æ¨¡å‹åŠ è½½ stop-the-world</strong>: åœ¨å‚æ•°åŠ è½½å®Œæˆä¹‹å‰ï¼Œæ–°çš„å®ä¾‹å§‹ç»ˆæ— æ³•æä¾›æœåŠ¡ã€‚</p>
</li>
</ol>
<h3 id="é—®é¢˜åˆ†æ">é—®é¢˜åˆ†æ<a class="headerlink" href="#é—®é¢˜åˆ†æ" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/BWQ2b3obEoWksLxdYroccBslnCh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/BWQ2b3obEoWksLxdYroccBslnCh.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>SLO å®šä¹‰çš„æ˜¯ä»ç”¨æˆ·å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨è¿”å›æ¨ç†å“åº”çš„ç«¯åˆ°ç«¯å»¶è¿Ÿã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ scale è¿‡ç¨‹ä¸­ï¼Œåç»­è¯·æ±‚çš„æ’é˜Ÿæ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œå¯¼è‡´ SLO è¿ä¾‹é£™å‡ã€‚</p>
<p>Scale Time = SLO Time - TTFT Time, Bandwidth = Model Parameter Size / Scale Time</p>
<p>å¦‚æœä»¥ TP=4 ä¼ è¾“ä¸€ä¸ª 72B çš„æ¨¡å‹ï¼Œæ ¹æ® 1250ms çš„ SLO time å’Œ 771ms çš„ TTFTï¼Œè¦æ±‚ç½‘ç»œå¸¦å®½æ¥åˆ° 576Gbpsï¼ŒSSD æ˜¾ç„¶åšä¸åˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p><a class="glightbox" href="../img/IT8sbr1U0opEX7xeSArcdz13nFf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/IT8sbr1U0opEX7xeSArcdz13nFf.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>å³ä½¿ä½¿ç”¨äº† host cacheï¼Œhost ä¹Ÿä¸å¯èƒ½è£…ä¸‹æ‰€æœ‰æ¨¡å‹ï¼Œå› æ­¤ä¸èƒ½å®Œå…¨é¿å…ç¼“å­˜æœªå‘½ä¸­å¸¦æ¥çš„å»¶è¿Ÿã€‚å½“ cache miss æ—¶ï¼Œæ¨¡å‹åŠ è½½é€Ÿåº¦å°±éå¸¸ç³Ÿç³•ã€‚åŒæ—¶ï¼Œä¸€ä¸ªæœ‰æ„æ€çš„è§‚å¯Ÿæ˜¯ï¼Œåœ¨ scale çš„åŒæ—¶ï¼Œç”±äºè´Ÿè½½è¢«è°ƒåº¦åˆ°äº†ä¸åŒçš„ hostï¼Œæœ‰æ›´é«˜æ¦‚ç‡å¸¦æ¥ cache missï¼Œä»è€Œå¯¼è‡´ miss rate é£™å‡.</p>
<p><a class="glightbox" href="../img/KYNIbJjZyoNrbBxTOnMcmTxzncg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KYNIbJjZyoNrbBxTOnMcmTxzncg.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>Under-utilized ç½‘ç»œå’Œé«˜é€Ÿçš„ç½‘ç»œå¸¦å®½ç»™æ¨¡å‹çš„åŠ è½½å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚å³ä½¿åœ¨å³°å€¼ä¸‹ï¼Œç½‘ç»œçš„å ç”¨ç‡ä¹Ÿåªæœ‰ 60% å·¦å³ã€‚é›†ç¾¤ä¸­çš„é«˜æ€§èƒ½ç½‘ç»œä¸ºæˆ‘ä»¬æä¾›äº†æœºä¼šï¼ŒRDMA èƒ½æä¾› 200Gbps çš„å¸¦å®½ï¼Œä¸ PCIe å¸¦å®½æ¥è¿‘ã€‚</p>
<h3 id="é—®é¢˜-1">é—®é¢˜ 1<a class="headerlink" href="#é—®é¢˜-1" title="Permanent link">&para;</a></h3>
<p>é—®é¢˜ 1 è¦è§£å†³çš„æ˜¯<strong>æ¨¡å‹æœåŠ¡å®ä¾‹çš„æ‹‰èµ·é€Ÿåº¦</strong>ã€‚</p>
<p>å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ç°ä»£ GPU é›†ç¾¤ä¸­æœ‰ NVLink, RDMA ç­‰é«˜é€Ÿç½‘ç»œï¼Œè€Œä¸”åœ¨æ¨ç†è¿‡ç¨‹ä¸­æ²¡æœ‰å¾ˆé«˜çš„åˆ©ç”¨ç‡ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨ç½‘ç»œçš„ Multicast å¿«é€Ÿæ‹‰èµ·å¤šä¸ªæ¨¡å‹å®ä¾‹ï¼Œæ»¡è¶³è‡ªåŠ¨ç¼©æ‰©å®¹çš„éœ€è¦ï¼ŒåŒæ—¶ä¸ä¼šé€ æˆ over-provision å’Œ cache-miss çš„é—®é¢˜ã€‚</li>
<li>
<p>åˆ©ç”¨é«˜é€Ÿç½‘ç»œçš„å¤šæ’­æœºåˆ¶å®ç°<span class="arithmatex">\(O(1)\)</span>ç”šè‡³<span class="arithmatex">\(O(0)\)</span>ç¼“å­˜ä¸‹çš„æ•°æ®é¢åŠ é€Ÿã€‚æ‰€æœ‰æœºå™¨çš„å†…å­˜åŠ èµ·æ¥è¶³å¤Ÿéƒ¨ç½²æ‰€æœ‰æ¨¡å‹ï¼Œå› æ­¤<span class="arithmatex">\(O(1)\)</span>çš„ cache å°±èƒ½é¿å…æ‰€æœ‰çš„ cache miss.</p>
<ul>
<li>ä½†æ˜¯ multicast plan çš„ç”Ÿæˆå¹¶ä¸ç®€å•ï¼Œéœ€è¦ä¸€ä¸ª planner èƒ½å¤Ÿ online åœ°è§£å†³ NP-hard é—®é¢˜å¹¶é¿å… scaling å’Œ serving çš„å®ä¾‹ä¹‹é—´çš„ç½‘ç»œå¹²æ‰°ã€‚</li>
</ul>
</li>
<li>
<p>å®ç° online interference-free scale plan generationï¼ŒåŸºäºç½‘ç»œåœ¨çº¿ç”Ÿæˆå¿«é€Ÿæ‰©å®¹æ–¹æ¡ˆ</p>
<ul>
<li>ç”¨ online çš„æ—¶é—´è§£å†³ NP-hard é—®é¢˜ã€‚</li>
<li>æ¶ˆé™¤ loading å’Œ serving çš„ workload çš„ç½‘ç»œå¹²æ‰°ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é—®é¢˜-2">é—®é¢˜ 2<a class="headerlink" href="#é—®é¢˜-2" title="Permanent link">&para;</a></h3>
<p>é—®é¢˜ 2 è¦è§£å†³çš„æ˜¯ scale è¿‡ç¨‹ä¸­ throughput ä»ç„¶æ— æ³•å¢åŠ çš„é—®é¢˜ã€‚</p>
<ul>
<li>
<p>é€šè¿‡ç»†ç²’åº¦çš„ scaling æŠ½è±¡å’Œåˆä½œæ‰§è¡Œï¼Œå®ç°æ•°æ®é¢çš„åœ¨çº¿åŠ è½½ï¼ˆlayer-by-layer çš„æ¨ç†ç­–ç•¥ï¼‰ã€‚</p>
<blockquote>
<p>å¦‚æœè¦åŠ è½½ Qwen2.5-72B å¹¶å®ç° 500ms çš„ stop timeï¼Œåˆ™éœ€è¦ 576 Gbps çš„å¸¦å®½ï¼Œç›®å‰çš„ç¡¬ä»¶æ— æ³•å®ç°ã€‚</p>
</blockquote>
</li>
<li>
<p>ä½¿ç”¨ best-effort çš„ scaling æ— æ³•å®ç°è´Ÿè½½å‡è¡¡ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è€ƒè™‘ future incoming layersï¼Œå®ç° zig-zag çš„æµæ°´çº¿è°ƒåº¦ã€‚</p>
</li>
</ul>
<p>å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼šç”¨ zig-zag çš„æ–¹æ³•å®ç°çœŸæ­£çš„ live autoscaleï¼ŒåŸºäº zig-zag è°ƒåº¦å®ç°é«˜æ•ˆå¿«é€Ÿæ‰©å®¹ã€‚ä» throughput çš„è§’åº¦ç†è§£ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•æœ‰å¯èƒ½ workï¼šå‡è®¾ä¸€ä¸ª 7-layer æ¨¡å‹ï¼ŒåŸæ¥çš„ throughput æ˜¯ <span class="arithmatex">\(1/7\)</span>ï¼Œåœ¨åŠ è½½äº†ä¸€ä¸ª layer ä¹‹åï¼Œthroughput æ¥åˆ°äº† <span class="arithmatex">\(1/6\)</span>ã€‚</p>
<p><a class="glightbox" href="../img/KQfxbb7G0o1ZKQxu1DOc270Enab.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KQfxbb7G0o1ZKQxu1DOc270Enab.webp" style="display:block; margin:auto;" width="600" /></a></p>
<h2 id="ç³»ç»Ÿè®¾è®¡">ç³»ç»Ÿè®¾è®¡<a class="headerlink" href="#ç³»ç»Ÿè®¾è®¡" title="Permanent link">&para;</a></h2>
<h3 id="ç³»ç»Ÿæ¶æ„">ç³»ç»Ÿæ¶æ„<a class="headerlink" href="#ç³»ç»Ÿæ¶æ„" title="Permanent link">&para;</a></h3>
<p>24k è¡Œ Rust å’Œ C++ ä»£ç ï¼Œå®ç° PD åˆ†ç¦»å’Œ continuous batching ç­‰æŠ€æœ¯ã€‚</p>
<p><a class="glightbox" href="../img/PdXqbcw67ork9gxjcDucCWGSndf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/PdXqbcw67ork9gxjcDucCWGSndf.webp" style="display:block; margin:auto;" width="400" /></a></p>
<ul>
<li>Global Parameter Manager ç®¡ç†åœ¨ GPU ä¸Šéƒ¨ç½²çš„æ¨¡å‹å’Œåœ¨ CPU ä¸Š cache çš„æ¨¡å‹ï¼Œå®ç° model å’Œ source çš„æ˜ å°„ã€‚</li>
<li>Load Monitor è´Ÿè´£ç›‘æ§è´Ÿè½½ã€‚</li>
<li>Scale Planner è´Ÿè´£ç”Ÿæˆ online çš„æ–¹æ¡ˆã€‚</li>
<li>Execution Scheduler è´Ÿè´£è¯·æ±‚è°ƒåº¦å’Œé‡å®šå‘ã€‚</li>
</ul>
<h3 id="ç½‘ç»œæ‹“æ‰‘">ç½‘ç»œæ‹“æ‰‘<a class="headerlink" href="#ç½‘ç»œæ‹“æ‰‘" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/NRMwb3RkDoPxGqx7ruyccTDOnPh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/NRMwb3RkDoPxGqx7ruyccTDOnPh.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>é—®é¢˜å»ºæ¨¡ï¼š</p>
<ul>
<li>NVLink æœ‰ 1600-3600Gbps çš„å¸¦å®½ï¼Œå› æ­¤ç”¨ NVLink äº’è”çš„ç»„å†…çš„é€šä¿¡æ—¶é—´å¯ä»¥å¿½ç•¥ã€‚</li>
<li>å¿½ç•¥äºŒçº§ä»¥ä¸Šäº¤æ¢æœºï¼Œé‡‡ç”¨ leaf-spine ç»“æ„ã€‚æ¯ä¸ª GPU ä¸ä¸€å°å¶å­äº¤æ¢æœºç›¸è¿ï¼Œæ‹¥æœ‰ <span class="arithmatex">\(BW_i\)</span> çš„å¸¦å®½ï¼›å¶å­äº¤æ¢æœºå†…çš„é€šä¿¡æ˜¯ full-mesh çš„ã€‚</li>
<li>å¶å­äº¤æ¢æœºä¹‹é—´ï¼ˆå³è·¨äº¤æ¢æœºï¼‰çš„é€šä¿¡å°äºç­‰äºäº¤æ¢æœºå†…éƒ¨çš„ï¼Œé‡‡ç”¨ VLT ç­‰ç½‘ç»œæŠ€æœ¯å±è”½æ›´å¤æ‚çš„æ‹“æ‰‘ç»“æ„ã€‚</li>
</ul>
<h3 id="çº¿æ€§è½¬å‘é“¾-serial-forwarding-chain">çº¿æ€§è½¬å‘é“¾ Serial Forwarding Chain<a class="headerlink" href="#çº¿æ€§è½¬å‘é“¾-serial-forwarding-chain" title="Permanent link">&para;</a></h3>
<ul>
<li>Data Center ä¸­å­˜åœ¨ scale-up (å¦‚ NVLink) å’Œ scale-out (å¦‚ RDMA)ï¼Œæ‹“æ‰‘ç»“æ„å¤æ‚ï¼Œåœ¨å¼‚æ„ç½‘ç»œä¸­è·å–æœ€ä¼˜çš„å¤šæ’­ (multicast) æ–¹æ¡ˆæ˜¯ä¸€ä¸ª NP-hard é—®é¢˜ã€‚åœ¨æœåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·çš„æµé‡å’Œ GPU çš„åˆ†é…ä¹Ÿæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå› æ­¤éœ€è¦ç”Ÿæˆåœ¨çº¿æ‰©å®¹æ–¹æ¡ˆã€‚</li>
</ul>
<blockquote>
<p>åœ¨ PD åˆ†ç¦»çš„åœºæ™¯ä¸‹ï¼Œæœ´ç´ çš„æ‰©å®¹æ–¹å¼ä¼šå› æµé‡ç«äº‰è€Œäº§ç”Ÿç½‘ç»œå¹²æ‰°ï¼Œè€Œåˆ©ç”¨ç½‘ç»œç¡¬ä»¶åŒå‘çš„ç‰¹æ€§å¯ä»¥è§„é¿è¿™ä¸ªå¹²æ‰°ã€‚å¦‚æœäº§ç”Ÿæµé‡ç«äº‰ï¼Œåœ¨å®éªŒä¸Šå®ƒä¼šå¸¦æ¥ 1.5 å€çš„æ‰©å®¹æ—¶é—´å’Œ 50% çš„ TBT Tail Latency.</p>
</blockquote>
<div align="center">
    <a class="glightbox" href="../img/XEFYbT0hsoF1XcxbGpOcKdgjn2d.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../img/XEFYbT0hsoF1XcxbGpOcKdgjn2d.webp" style="zoom:25%;" /></a>
    <a class="glightbox" href="../img/M8YMbA6t7oMC6axklrNcGSDXn3c.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../img/M8YMbA6t7oMC6axklrNcGSDXn3c.webp" style="zoom:35%;" /></a>
</div>

<details open="open">
<summary><strong>ä¸²è¡Œè½¬å‘çš„å¤šæ’­æœºåˆ¶</strong></summary>
<p><strong>ä¸²è¡Œè½¬å‘çš„å¤šæ’­æœºåˆ¶</strong>ï¼ˆserial forwarding multicastï¼‰èƒ½åŠ è½½å¤§é‡æ•°æ®ï¼ˆå¦‚æ¨¡å‹å‚æ•°ï¼‰ï¼Œè€Œä¸”æ— è®ºæ¥æ”¶è€…æ•°é‡æ˜¯å¤šå°‘ï¼Œæ•ˆç‡å‡ ä¹ä¸å˜ã€‚æ•°æ®ä»æºèŠ‚ç‚¹å‡ºå‘ï¼Œä¸€è·³è·³å¾€ä¸‹ä¼ æ’­ï¼ˆåƒé“¾æ¡ï¼‰ï¼Œæˆ–åˆ©ç”¨æ ‘çŠ¶ç»“æ„ä¼ æ’­ï¼Œå½¢æˆç±»ä¼¼â€œçº§è”è½¬å‘â€ã€‚</p>
<p>å¤šæ’­æ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“æ–¹å¼ï¼Œä»‹äºå¹¿æ’­ï¼ˆbroadcastï¼‰å’Œå•æ’­ï¼ˆunicastï¼‰ä¹‹é—´ï¼š</p>
<ul>
<li><strong>å•æ’­</strong>ï¼šä¸€ä¸ªæºå‘é€ä¸€ä»½æ•°æ®ç»™ä¸€ä¸ªæ¥æ”¶è€…ï¼ˆN ä¸ªæ¥æ”¶è€…è¦å‘ N æ¬¡ï¼‰</li>
<li><strong>å¹¿æ’­</strong>ï¼šä¸€ä¸ªæºå‘æ•°æ®ç»™ç½‘ç»œä¸­<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>ï¼ˆä¸ç®¡ä½ è¦ä¸è¦ï¼‰</li>
<li><strong>å¤šæ’­</strong>ï¼šä¸€ä¸ªæºå‘æ•°æ®ç»™<strong>ç‰¹å®šä¸€ç»„æ¥æ”¶è€…</strong>
  å¤šæ’­é€šè¿‡ <strong>ç»„æ’­åœ°å€ï¼ˆmulticast addressï¼‰</strong> å’Œ <strong>ç»„æ’­ç»„ï¼ˆmulticast groupï¼‰</strong> æ¥å®ç°æœ‰é€‰æ‹©æ€§çš„å¹¿æ’­ã€‚</li>
<li>ä¸²è¡Œçš„å¹¿æ’­é“¾è·¯ <span class="arithmatex">\(S\rightarrow T_1\rightarrow T_2 \rightarrow ... \rightarrow T_n\)</span> æœ‰å¾ˆå¥½çš„æ€§è´¨ï¼Œåœ¨ bandwidth-intensive çš„åœºæ™¯ä¸‹ï¼Œæ•´ä½“çš„ä¼ è¾“æ—¶é—´å’Œ scale çš„æ¨¡å‹ä¸ªæ•°æ— å…³ã€‚</li>
<li>serial-chain æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯ multi-chain æ›´å¥½ï¼ˆå› ä¸º inter-leaf çš„é€šä¿¡å¯èƒ½å·®å¼‚å¾ˆå¤§ï¼‰ï¼Œå®ƒæœ‰ä¸€å®šå¯èƒ½<strong>é¿å… inter-leaf çš„é€šä¿¡</strong>ï¼ŒåŒæ—¶è®©<strong> PD åˆ†ç¦»åœºæ™¯ä¸‹çš„å¹²æ‰°æ›´å°‘</strong>ã€‚</li>
</ul>
<p><a class="glightbox" href="../img/A0cEb9B4oohlDixXi12caiFwnuq.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/A0cEb9B4oohlDixXi12caiFwnuq.webp" style="display:block; margin:auto;" width="400" /></a></p>
</details>
<p><strong>ç®—æ³•è®¾è®¡çš„ insightsï¼š</strong></p>
<ol>
<li>prune æ‰ serving çš„å®ä¾‹ï¼Œå‡å°‘å¹²æ‰°ï¼ˆload å¯ä»¥æ¥è‡ª host memory å’Œ GPU instancesï¼‰ï¼›</li>
<li>æŠŠ NVLink äº’è”çš„å¡ä½œä¸ºä¸€ä¸ªé€»è¾‘ç»„ï¼Œä»æ–¹æ¡ˆä¸­çœç•¥ NVLinkï¼Œä»è€Œé™ä½äº†å¤æ‚åº¦ï¼›</li>
<li>å°½é‡é€‰æ‹©åŒä¸€ä¸ª leaf äº¤æ¢æœºä¸‹çš„èŠ‚ç‚¹è¿›è¡Œä¼ è¾“ï¼Œå¯ä»¥æ›´å¤§ç¨‹åº¦åœ°ä¿éšœå¸¦å®½ï¼›</li>
<li>é“¾ä¸­çš„èŠ‚ç‚¹é¡ºåºéå¸¸é‡è¦ï¼ˆä»ç½‘ç»œä¸­åŠ è½½æ¨¡å‹å‚æ•°æ˜¯ band-intensive çš„ï¼‰ã€‚ç”¨è´ªå¿ƒçš„æ–¹å¼ä»é«˜å¸¦å®½åˆ°ä½å¸¦å®½ï¼Œç®—æ³•æŒ‰ç…§èŠ‚ç‚¹é—´é“¾è·¯é€Ÿåº¦çš„é™åºè¿›è¡Œæ’åºï¼Œå‘å…·æœ‰æ›´é«˜å¸¦å®½çš„èŠ‚ç‚¹å‘é€æ•°æ®å¯ä»¥æ›´å¿«åœ°æå‡ï¼ˆç³»ç»Ÿçš„ï¼‰æœåŠ¡ååé‡ï¼›
   <a class="glightbox" href="../img/EsiybCkV7oeJDdx0U6Icb3P3nqh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/EsiybCkV7oeJDdx0U6Icb3P3nqh.webp" style="display:block; margin:auto;" width="400" /></a></li>
<li>åŒå‘çš„ RDMA ä¸‹ï¼Œincast å’Œ outcast æµé‡äº’ä¸å¹²æ‰°ï¼Œåœ¨åŒä¸€æ¡é“¾è·¯ä¸Šé¿å…åŒå‘çš„æ•°æ®æµåŠ¨ã€‚ï¼ˆä¾‹å¦‚ä» decode instance ä¼ é€å‚æ•°åˆ° prefill instanceï¼‰</li>
</ol>
<p><a class="glightbox" href="../img/QejTbKc8Ao9bV0xwVZhcsNunn7g.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/QejTbKc8Ao9bV0xwVZhcsNunn7g.webp" style="display:block; margin:auto;" width="300" /></a></p>
<h3 id="æ¨¡å‹åˆ†ç‰‡èšåˆ-sharded-parameter-transfer">æ¨¡å‹åˆ†ç‰‡èšåˆ Sharded Parameter Transfer<a class="headerlink" href="#æ¨¡å‹åˆ†ç‰‡èšåˆ-sharded-parameter-transfer" title="Permanent link">&para;</a></h3>
<ul>
<li>åˆ©ç”¨ scale-up ç½‘ç»œå’Œ scale-out ç½‘ç»œçš„å¸¦å®½å·®å¼‚ï¼Œåœ¨åˆ†å‘å‚æ•°çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é‡‡ç”¨åˆ†ç‰‡åˆ†å‘çš„æ–¹å¼ï¼Œå³ä»ä¸åŒçš„ src èŠ‚ç‚¹åˆ†åˆ«åˆ†å‘æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œèšåˆç½‘ç»œå¸¦å®½ï¼›å†åˆ©ç”¨å¡é—´ scale-up ç½‘ç»œçš„ NVLink å¸¦å®½å®Œæˆ All-gather æ“ä½œï¼Œä»è€ŒåŠ å¿«æ¨¡å‹å‚æ•°ä¼ é€’é€Ÿåº¦ã€‚</li>
</ul>
<p><a class="glightbox" href="../img/Us0hbJMteoFUtVxrs3Wcd9Jdnxf.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/Us0hbJMteoFUtVxrs3Wcd9Jdnxf.webp" style="display:block; margin:auto;" width="300" /></a></p>
<h3 id="zigzag-è°ƒåº¦">Zigzag è°ƒåº¦<a class="headerlink" href="#zigzag-è°ƒåº¦" title="Permanent link">&para;</a></h3>
<ul>
<li>åœ¨æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œ<strong>æ–°åˆ†é…çš„ GPU å¯ä»¥ä¸ºç³»ç»Ÿæä¾›ç®—åŠ›</strong>ï¼Œä»è€Œè§£å†³æ–°åˆ†é…çš„ GPU åœ¨æ¨¡å‹å‚æ•°å°šæœªåŠ è½½å®Œæˆçš„æ—¶å€™æ— æ³•ç”Ÿæˆ token çš„é—®é¢˜ã€‚</li>
<li>å·²ç»åŠ è½½åˆ°æœåŠ¡å™¨ä¸Šçš„æ¨¡å‹æ‹¥æœ‰å…¨é‡å‚æ•°ï¼Œå¯ä»¥åœ¨è¯·æ±‚æ¿€å¢çš„æ—¶å€™å°†æ–°çš„è¯·æ±‚è·¯ç”±åˆ°æ–°åˆ†é…çš„ GPU ä¸Šæ¨ç†è‹¥å¹²å±‚ï¼Œå†è·¯ç”±å›è€çš„ GPU ä¸Šæ¨ç†å‰©ä½™å±‚ã€‚</li>
</ul>
<p>è°ƒåº¦çš„æ—¶æœºï¼š</p>
<ul>
<li>å½“ scale ä¼šç ´å SLOï¼šprofile åŠ è½½é€Ÿåº¦å’Œ SLO ä¹‹é—´çš„å…³ç³»</li>
<li>æ‰¾åˆ°ä¸€ä¸ª overloaded instanceï¼Œé€šå¸¸å’Œç¬¬ä¸€æ¡å‘¼åº”ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬é€šå¸¸æŒ‘é€‰åœ¨å¹¿æ’­é“¾ tail ä½ç½®çš„ instanceï¼Œå› ä¸ºå®ƒçš„å¸¦å®½æœ€ä½.</li>
</ul>
<p><strong>æ–¹æ¡ˆ 1</strong>:</p>
<div class="arithmatex">\[\text{Latency}_\text{avg} = \left( \sum_{req=1}^{N} \sum_{i=1}^{req} S_{i} \right) / N\]</div>
<div class="arithmatex">\[
\begin{aligned}
\min \quad &amp; \text{Latency}_{\text{avg}} \\
\text{s.t.} \quad &amp; S_i + T_i = L, \quad \forall i \quad \text{Pipeline limit (C1)}, \\
&amp; \sum_{j=1}^{i} T_j \le \sum_{j=1}^{i-1} S_j, \quad \forall i &gt; 1 \quad \text{Pipeline dependency (C2)}, \\
&amp; \text{Time}_i * T_i \le \sum_{j=1}^{i-1} T_j + (N - i + 1) \times (T_i - 1), \\
&amp; \forall i &gt; 1 \quad \text{Load limit (C3)}
\end{aligned}
\]</div>
<p>æ±‚è§£ä¸€ä¸ª ILP çº¿æ€§çº¦æŸã€‚</p>
<p><strong>æ–¹æ¡ˆ 2</strong>:</p>
<p><a class="glightbox" href="../img/CjyZbFxZtoaXHSxSivHcRc0Ln1g.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/CjyZbFxZtoaXHSxSivHcRc0Ln1g.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>å°½å¯èƒ½åœ°è®©æ–°çš„ request åœ¨æ–°çš„ instance ä¸Šè¿è¡Œæ›´å¤šçš„æ—¶é—´ã€‚</p>
<p>ä¼˜å…ˆçº§å¦‚ä½•å®šä¹‰ï¼Ÿéµå¾ª FCFS çš„åŸåˆ™ï¼›åŒæ—¶æœ‰åŠ è½½çš„ layer è¿˜æ²¡æœ‰è¢«æ‰§è¡Œã€‚</p>
<h3 id="å…¨å±€å‚æ•°æ± å’Œ-scale-ç­–ç•¥">å…¨å±€å‚æ•°æ± å’Œ scale ç­–ç•¥<a class="headerlink" href="#å…¨å±€å‚æ•°æ± å’Œ-scale-ç­–ç•¥" title="Permanent link">&para;</a></h3>
<p>åˆå§‹åŒ–æ—¶å®Œæˆå¯¹æ¨¡å‹å‚æ•°çš„å‡åŒ€ 1 æ‹·è´ã€‚</p>
<p>é€šè¿‡ tokens per second å’Œ KVCache ä½¿ç”¨ç‡æ¥è§‚æµ‹é›†ç¾¤è´Ÿè½½ã€‚</p>
<h3 id="å…³äº-llm">å…³äº LLM<a class="headerlink" href="#å…³äº-llm" title="Permanent link">&para;</a></h3>
<p>åœ¨ PD åˆ†ç¦»çš„åœºæ™¯ä¸‹ï¼Œä¸€ä¸ª layer çš„ prefill å’Œ decode æ—¶é—´åŸºæœ¬å’Œ batched token size æˆæ­£æ¯”ï¼Œå› æ­¤åœ¨è®¡ç®— ILP çš„æ—¶å€™éœ€è¦ä¸ºæ¯ä¸ª batch åŠ ä¸€ä¸ªæ­£åˆ™åŒ–å‚æ•°ã€‚è€Œåœ¨ decoding é˜¶æ®µï¼ŒAR ä¸‹æ— æ³•é¢„æµ‹ token size å¤§å°ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨ ILP-free schedulingã€‚ï¼ˆè¿™é‡Œï¼Œåœ¨ decoding é˜¶æ®µ scaling çš„åŒæ—¶ä¹Ÿéœ€è¦è€ƒè™‘ KVCache çš„é—®é¢˜ï¼‰</p>
<p>åœ¨ scale decode å®ä¾‹çš„æ—¶å€™ï¼Œç”±äº KVCache Transfer å’Œ parameter loading éƒ½æ¥è‡ª incast å¸¦å®½ï¼Œä¸å¯é¿å…å¸¦æ¥å¹²æ‰°ã€‚å› æ­¤ç›®å‰çš„ç­–ç•¥æ˜¯å…ˆæŠŠä¸€éƒ¨åˆ† prefill å®ä¾‹è½¬æ¢ä¸º decode å®ä¾‹ï¼Œå† scale prefill å®ä¾‹ã€‚</p>
<p>å½“æˆ‘ä»¬å‘ç° scale prefill å®ä¾‹æ˜¯å¿…è¦çš„æ—¶å€™ï¼Œå¯ä»¥åŒæ­¥ scale decode å®ä¾‹ï¼Œè¿™æ ·å°±å¯ä»¥ overlap æ‰è¿™ä¸€éƒ¨åˆ†å¼€é”€ã€‚ï¼ˆåˆ†æ prefill å’Œ decode è¿›è¡Œ scale çš„æ—¶é—´å·®ï¼‰</p>
<h2 id="evaluation">Evaluation<a class="headerlink" href="#evaluation" title="Permanent link">&para;</a></h2>
<h3 id="testbed">TestBed<a class="headerlink" href="#testbed" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/Lhclb7gx7oqRxHxVd8bc5aQvnef.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/Lhclb7gx7oqRxHxVd8bc5aQvnef.webp" style="display:block; margin:auto;" width="400" /></a></p>
<h3 id="baseline">Baseline<a class="headerlink" href="#baseline" title="Permanent link">&para;</a></h3>
<ul>
<li>ServerlessLLM (S-LLM and Optimal AllCache)</li>
<li>Distserve</li>
<li>vLLM</li>
</ul>
<p><a class="glightbox" href="../img/KzB0bhLQpoS43Px8f2Gcc8Jon0f.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/KzB0bhLQpoS43Px8f2Gcc8Jon0f.webp" /></a></p>
<h3 id="ttft-å’Œ-tbt">TTFT å’Œ TBT<a class="headerlink" href="#ttft-å’Œ-tbt" title="Permanent link">&para;</a></h3>
<p>BlitzScale åœ¨ TTFT ä¸Šçš„ä¼˜åŒ–æ˜¾è‘—ä¼˜äº TBTã€‚</p>
<ol>
<li>Decoding å¯ä»¥è¢« pre-scaledï¼Œå³å½“ prefill çš„ throughput å¢åŠ ï¼Œdecode instance å°±ä¼šç›´æ¥ auto-scaleï¼Œè¿™éƒ¨åˆ†æ—¶é—´å’Œ prefill æ—¶é—´é‡å ã€‚</li>
<li>Decode å¯ä»¥è¢« scale çš„æ›´å°‘ï¼Œå› ä¸ºè¿™ä¸ªé˜¶æ®µæ˜¯ memory-bound çš„ï¼Œåœ¨ç›®å‰çš„ä¼˜åŒ–ä¸‹å¯ä»¥å®ç° no queueing time, slightly increased TBT.</li>
<li>åœ¨ä¸åŒçš„å·¥ä½œè´Ÿè½½ä¸‹ï¼Œå¯¹äº S-LLMï¼Œç¬¬ä¸€æ¬¡ burst æ—¶ä¼šå¸¦æ¥å¤§é‡ cache missï¼Œä½†æ˜¯åç»­çš„ burst å°±å¯ä»¥å®ç° cache hitï¼ˆcorner case éœ€è¦è€ƒè™‘ä¸¤æ¬¡ burst çš„é—´éš”å¤§äº eviction timeï¼‰</li>
</ol>
<h3 id="æ€§èƒ½ä¸èµ„æºä½¿ç”¨">æ€§èƒ½ä¸èµ„æºä½¿ç”¨<a class="headerlink" href="#æ€§èƒ½ä¸èµ„æºä½¿ç”¨" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/YPzhbiDUfo7HVCxA3cEcl5SenOv.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/YPzhbiDUfo7HVCxA3cEcl5SenOv.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>åœ¨ç›¸åŒçš„ GPU Time ä¸‹è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚Over-provision èƒ½å¸¦æ¥æœ€å¥½çš„è¡¨ç°ä½†æ˜¯ä¼šæµªè´¹ GPU æ—¶é—´ã€‚</p>
<p><a class="glightbox" href="../img/GoB3bUWQWoRRA3xHuZZc9QpwnDh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/GoB3bUWQWoRRA3xHuZZc9QpwnDh.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>ServerlessLLM çš„ memory å ç”¨å’Œ host æ•°æˆæ­£æ¯”ï¼Œå› æ­¤ä¸€ä¸ªæ¨¡å‹ä¼šè¿…é€Ÿåœ°æ±¡æŸ“æœåŠ¡å™¨çš„ memory.</p>
<p><a class="glightbox" href="../img/R1ulblJ7roXfNRxHOdyc6HoMnLb.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/R1ulblJ7roXfNRxHOdyc6HoMnLb.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>è¿™ä¸€æ®µè¯å¾ˆå¥½åœ°è§£é‡Šäº† scale çš„å¸¸ç”¨é…ç½®ã€‚</p>
<blockquote>
<p>BLITZSCALE utilizes two broadcast chains (each involving 3 instances), while the end instances involve a live autoscale. The start instances are the decode instances. For AllCache, it directly loads the parameters from the host memory of the scaled instances.
Second, BLITZSCALE can scale faster even compared with AllCache, thanks to our NVLink-based fused link transmission protocol: it can finish scaling in 1,200 ms while AllCache takes about 2,000 ms.</p>
</blockquote>
<p><a class="glightbox" href="../img/GRy5bCgCJodpJexKY6VchVQpnUr.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/GRy5bCgCJodpJexKY6VchVQpnUr.webp" style="display:block; margin:auto;" width="600" /></a></p>
<p>æ¶ˆèå®éªŒï¼šç½‘ç»œè¶Šå·®ï¼Œlive scale çš„æ•ˆæœè¶Šå¥½ã€‚decode é€šå¸¸ä¸éœ€è¦ scale.</p>
<p><a class="glightbox" href="../img/NHyJbBvX5oTFVwxTa4tcuqVtnuh.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/NHyJbBvX5oTFVwxTa4tcuqVtnuh.webp" style="display:block; margin:auto;" width="400" /></a></p>
<p>ç½‘ç»œå¸¦å®½çš„ overhead å‡ ä¹å¯ä»¥å¿½ç•¥ã€‚</p>
<p><a class="glightbox" href="../img/EdUUb4UCvogzdYxHleycVkcJnOg.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/EdUUb4UCvogzdYxHleycVkcJnOg.webp" style="display:block; margin:auto;" width="300" /></a></p>
<p>åœ¨è¶³å¤Ÿçš„ä¼˜åŒ–ä¸‹ï¼Œcontrol plane çš„ overhead å¯ä»¥æå¤§åœ°é™ä½ã€‚</p>
<h2 id="related-work">Related Work<a class="headerlink" href="#related-work" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Orca: continuous batching</p>
<ul>
<li>Iterative-level scheduling: ä¸åŒäºä»¥å‰ä»¥ batch ä½œä¸ºå®Œæ•´å•ä½è¿›è¡Œæ¨ç†ï¼Œå½“ batch å†…æœ‰ä¸€ä¸ª request å·²ç»å®Œæˆæ¨ç†ï¼Œå®ƒå¿…é¡»é€šè¿‡ zero-padding çš„æ–¹å¼ç­‰å¾…å…¶ä»–æ‰€æœ‰è¯·æ±‚å®Œæˆï¼›ç°åœ¨åœ¨ä¸€æ¬¡è¿­ä»£ä¸­è°ƒåº¦ä¸€æ¬¡ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</li>
<li>Selective batching: é’ˆå¯¹ Attention ç­‰æ— æ³• batch çš„æ“ä½œï¼Œæˆ‘ä»¬ä»¥ request ä¸ºå•ä½è¿›è¡Œå¤„ç†ï¼›ä½†å¯¹å…¶ä»–ä½ç½®æ— å…³çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ flatten å’Œ reshape æ“ä½œå®ç° batchify.</li>
</ul>
</li>
<li>
<p>DistServe</p>
<ul>
<li>å°† prefill å’Œ decode è§£è€¦ï¼Œå°†ç›¸åŒ layer æ‰€å±çš„ GPU æ”¾åœ¨åŒä¸€å°æœºå™¨å†…ï¼Œå‡å°‘ KVCache è¿ç§»çš„ overhead</li>
</ul>
</li>
<li>
<p>LoongServe</p>
<ul>
<li>é¢å¯¹ long context çš„åœºæ™¯ï¼Œå•å¼  GPU æ— æ³•å­˜ä¸‹ KVCacheï¼ŒSP æˆä¸ºå¿…è¦çš„åˆ†å¸ƒå¼æ‰‹æ®µã€‚åŒæ—¶ï¼Œä¸åŒ request å’Œä¸åŒ phase ä¹‹é—´çš„å·®è·å¯èƒ½ä¼šå¾ˆå¤§ï¼Œä¾‹å¦‚ä¸åŒçš„ä¸Šä¸‹æ–‡å¯¼è‡´ prefill é˜¶æ®µçš„è´Ÿè½½æ³¢åŠ¨å¾ˆå¤§ã€‚å› æ­¤ï¼Œå®ç° elastic çš„å¹¶è¡Œä¹Ÿæ˜¯ååˆ†é‡è¦çš„ã€‚</li>
<li>æå‡º ESP æ–¹æ³•ï¼ŒæŠŠ SP æ‰©å±•åˆ°æ¨ç†é˜¶æ®µã€‚ä½¿ç”¨ proactive migration é™ä½äº†ä» prefill åˆ° decode é˜¶æ®µ KVCache è¿ç§»çš„å¼€é”€ã€‚ä½¿ç”¨ multiple master instance çš„æ–¹æ³•å®ç° decode é˜¶æ®µçš„è´Ÿè½½å‡è¡¡ã€‚è®¾è®¡äº† online çš„ç¼©æ‰©å®¹ç®—æ³•ã€‚</li>
</ul>
</li>
<li>
<p>ServerlessLLM</p>
<ul>
<li>è®¾è®¡äº† multi-tier caching systemï¼ŒæŠŠæ¨¡å‹å‚æ•°åŠ è½½åˆ° CPU DRAM ä¸­è¿›è¡Œæ•°æ®é¢åŠ é€Ÿã€‚å¦‚æœ cache hitï¼Œå¯ä»¥åˆ©ç”¨ CPU-GPU PCIe å¸¦å®½åŠ è½½æ¨¡å‹ã€‚</li>
<li>ä½†ä¸æ€»æ˜¯èƒ½ç›´æ¥åŠ è½½ã€‚å¦‚æœ cache-hit ä½†æ˜¯ GPU å·²ç»è¢«å ç”¨ï¼Œåˆ™éœ€è¦æŠŠç°æœ‰è´Ÿè½½è¿ç§»åˆ°å…¶ä»–æœºå™¨ä¸Šï¼›å¦‚æœ cache miss äº†ï¼Œåˆ™éœ€è¦ä» SSD å½“ä¸­åŠ è½½æ¨¡å‹ã€‚</li>
</ul>
</li>
<li>
<p>DeepServe</p>
<ul>
<li>å¾®æœåŠ¡æ¶æ„ï¼ˆè¿˜å¯ä»¥æ‹‰ä¸Š mooncake è°ˆä¸€è°ˆï¼‰</li>
</ul>
</li>
<li>
<p>å¹¶è¡Œç­–ç•¥</p>
<ul>
<li>DeepSeek å®ç° DP + EP çš„å¹¶è¡Œç­–ç•¥ã€‚ï¼ˆAll2All è®©è¿›å‡ºé€šä¿¡é‡ä¿æŒä¸å˜ï¼‰ä½†æ˜¯è¿™ä¹Ÿå¯¹ reliability çš„è¦æ±‚éå¸¸é«˜ã€‚å¦å¤–å®ä¾‹å†…çš„ scaleï¼ˆå’Œè¿™ç¯‡æ–‡ç«  concern çš„é—®é¢˜ä¹Ÿéå¸¸ç›¸å…³ï¼‰ä¹Ÿéå¸¸çš„éš¾ï¼Œå¯¹äºä¸€ä¸ªåŒæ­¥é€šä¿¡ï¼Œå¡æ•°è¶Šå¤šå°±ä¼šå¸¦æ¥é€šä¿¡æ•ˆç‡å’Œç¨³å®šæ€§çš„æŒ‘æˆ˜ã€‚æ³¢åŠ¨æµé‡ä¸‹çš„è´Ÿè½½å‡è¡¡å¸¦æ¥æ›´å¤§çš„æŒ‘æˆ˜ã€‚</li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="æœ€åæ›´æ–°">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025å¹´8æœˆ21æ—¥ 13:59:20 UTC">2025å¹´8æœˆ21æ—¥</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="åˆ›å»ºæ—¥æœŸ">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025å¹´8æœˆ21æ—¥ 13:59:20 UTC">2025å¹´8æœˆ21æ—¥</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  å›åˆ°é¡µé¢é¡¶éƒ¨
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="é¡µè„š" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="ä¸Šä¸€é¡µ: Paper Reading">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸Šä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                Paper Reading
              </div>
            </div>
          </a>
        
        
          
          <a href="../cacheblend/" class="md-footer__link md-footer__link--next" aria-label="ä¸‹ä¸€é¡µ: CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸‹ä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                CacheBlend: Fast Large Language Model Serving for RAG with Cached Knowledge Fusion
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© HarryZ
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.tracking", "navigation.path", "navigation.top", "toc.follow", "content.action.view", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/polyfill/index.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.js"></script>
      
        <script src="../../javascripts/tablesort.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/tablesort/dist/tablesort.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>